<html>
    <body>
        <script src="https://cjrtnc.leaningtech.com/3.0/cj3loader.js"></script>
        <script type="module">
            await cheerpjInit();
            try {
                const emfaticFatJar = "/app" + window.location.pathname + "target/emfatic.jar";
                console.log(emfaticFatJar);
                const cj = await cheerpjRunLibrary(emfaticFatJar);
                const CheerpJEmfatic = await cj.org.eclipse.emfatic.cheerpj.CheerpJEmfatic;
                const m = await new CheerpJEmfatic();
                const packageName = await m.getRootPackageName("package p;");
                document.write(packageName); // If this works, it should write "p" to the document
            }
            catch (err) {
                console.log(err); // I'm getting a java.lang.ExceptionInInitializerError exception here
                document.write("Error: " + await err.getMessage()); // ... and the message is null
            }
        </script>
    </body>
</html>